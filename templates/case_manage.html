{% extends "common/nav.html" %}
{% block context %}

<div class="span3" id="sidebar">
    <ul class="nav nav-list bs-docs-sidenav nav-collapse collapse">
        <li>
            <a href="/manage/project_manage/"><i class="icon-chevron-right"></i>项目管理</a>
        </li>
        <li>
            <a href="/manage/module_manage/"><i class="icon-chevron-right"></i>模块管理</a>
        </li>
        <li class="active">
            <a href="/interface/case_manage/"><i class="icon-chevron-right"></i>用例管理</a>
        </li>
        <li>
            <a href="interface.html"><i class="icon-chevron-right"></i>任务管理</a>
        </li>
        <li>
            <a href="interface.html"><i class="icon-chevron-right"></i>mockServer</a>
        </li>
        <li>
            <a href="interface.html"><i class="icon-chevron-right"></i>测试工具</a>
        </li>
    </ul>
</div>

<div class="span9" id="content">
    <div class="row-fluid">
{% if type == 'list'%}
     <div class="block">
        <div class="navbar navbar-inner block-header">
            <div class="muted pull-left">用例管理</div>
        </div>
        <div class="block-content collapse in">
            <div class="span12">
               <div class="table-toolbar">
                  <div class="btn-group">
                     <a href="/interface/api_debug/"><button class="btn btn-success">&nbsp&nbsp&nbsp调&nbsp&nbsp试&nbsp&nbsp<i class="icon-plus icon-white"></i>&nbsp</button></a>
                  </div>
               </div>


            </div>
        </div>
     </div>
    </div>
</div>
 {% endif %}
{% if type == "api_debug" %}
<div class="block">
    <div class="navbar navbar-inner block-header">
        <div class="muted pull-left">在线POSTMAN</div>
    </div>
    <div class="block-content collapse in">
        <div class="span12">
            {% block debug %}

            {% endblock %}
        </div>
    </div>
</div>
 {% endif %}
{% if type == "edit" %}
<div class="block">
    <div class="navbar navbar-inner block-header">
        <div class="muted pull-left">模块编辑</div>
    </div>
    <div class="block-content collapse in">
        <div class="span12">
            <form class="form-horizontal" action="/manage/edit_module/{{id}}/" method="post">
              <fieldset>
                <legend>Form Horizontal</legend>
                <div class="control-group">
                  <label class="control-label">关联项目</label>
                  <div class="controls">
                    {{form.project}}
                  </div>
                </div>
                <div class="control-group">
                  <label class="control-label">模块名称</label>
                  <div class="controls">
                    {{form.name}}
                  </div>
                  <div class="controls">
                    <input class="input-xlarge focused" name="id"  type="hidden" value={{project_data.id}}>
                  </div>
                </div>
                <div class="control-group">
                  <label class="control-label">模块描述</label>
                  <div class="controls">
                    {{form.describe}}
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn btn-primary">保存</button>
                  <button type="reset" class="btn" onclick="window.location.href='/manage/module_manage/'">取消</button>
                </div>
              </fieldset>
            </form>
        </div>
    </div>
</div>
 {% endif %}
<script src="/static/vendors/jquery-1.9.1.js"></script>
<script>
              function del_id(id) {
                  //alert(11);
                  //id1 = $("#del_id").val();
                  //alert(id);
                  $.ajax({
                      type: 'POST',
                      url: '/manage/del_module/',
                      data: {"id": id},
                      //async : false,
                      //dataType: 'json',
                      success: function (data) {
                          if (data == "1") {
                              alert("删除成功！");
                              window.location.reload();
                          }
                      },
                      error: function () {
                      }
                  });

              }
        </script>
    {% endblock context %}